import{a as K,b as J}from"./chunk-6BZ2J4GM.js";import{a as G}from"./chunk-BMJZSNXT.js";import{a as Y}from"./chunk-XTHZ3RE2.js";import{a as Q}from"./chunk-FCHPIHEI.js";import"./chunk-GGQ7LRWG.js";import"./chunk-F2X3VGZZ.js";import{f as V,i as $,j as N,m as q,q as B,r as H}from"./chunk-G4I7ZO4W.js";import{i as A,nb as F,p as j,r as D,s as R}from"./chunk-LNEVNCIJ.js";import{$ as O,Ab as u,Bb as g,Ka as o,Lb as d,Mb as b,T as v,Tb as z,Ub as I,Wa as w,Z as y,_ as P,a as _,aa as k,ab as s,b as C,hb as p,jb as S,lb as f,ma as x,mb as m,mc as M,ob as T,pb as L,qb as n,rb as i,sb as l,wb as E}from"./chunk-MMKN2SRK.js";var U=()=>["/dashboard"],W=t=>({exact:t}),X=(t,c)=>c.route;function Z(t,c){t&1&&(n(0,"div",10)(1,"span",38),d(2,"GoEMR"),i(),n(3,"span",39),d(4,"Inventory"),i()())}function ee(t,c){if(t&1&&(n(0,"span",42),d(1),i()),t&2){let e=g().$implicit;o(),b(e.badge>9?"9+":e.badge)}}function te(t,c){if(t&1&&(n(0,"span",43),d(1),i()),t&2){let e=g().$implicit;o(),b(e.label)}}function ne(t,c){if(t&1&&(n(0,"li",14)(1,"a",40)(2,"span",41),l(3,"i"),s(4,ee,2,1,"span",42),i(),s(5,te,2,1,"span",43),i()()),t&2){let e=c.$implicit,r=g();o(),p("routerLink",e.route)("routerLinkActiveOptions",I(7,W,e.route==="/dashboard"))("pTooltip",r.sidebarCollapsed()?e.label:""),o(2),f("pi "+e.icon),o(),m(e.badge&&e.badge>0?4:-1),o(),m(r.sidebarCollapsed()?-1:5)}}function ie(t,c){if(t&1&&(n(0,"div",16),l(1,"p-avatar",44),n(2,"div",45)(3,"span",46),d(4),i(),n(5,"span",47),d(6),i()()()),t&2){let e,r=g();o(),p("label",r.userInitials()),o(3),b(r.authService.userFullName()),o(2),b((e=r.authService.user())==null?null:e.role)}}function oe(t,c){if(t&1&&l(0,"p-avatar",17),t&2){let e=g();p("label",e.userInitials())("pTooltip",e.authService.userFullName())}}function re(t,c){t&1&&(n(0,"span"),d(1,"Logout"),i())}function ae(t,c){if(t&1&&(n(0,"span",33),d(1),i()),t&2){let e=g();o(),b(e.unreadAlerts()>9?"9+":e.unreadAlerts())}}function le(t,c){if(t&1){let e=E();n(0,"div",48),u("click",function(){y(e);let a=g();return P(a.toggleMobileSidebar())}),i()}}var Oe=(()=>{class t{authService=v(F);themeService=v(G);mockDataService=v(Q);sidebarCollapsed=x(!1);mobileSidebarOpen=x(!1);navItems=[{label:"Dashboard",icon:"pi-home",route:"/dashboard"},{label:"Equipment",icon:"pi-box",route:"/equipment"},{label:"Inventory",icon:"pi-database",route:"/inventory"},{label:"Maintenance",icon:"pi-wrench",route:"/maintenance"},{label:"Vendors",icon:"pi-building",route:"/vendors"},{label:"Reports",icon:"pi-chart-bar",route:"/reports"},{label:"Compliance",icon:"pi-shield",route:"/compliance"},{label:"Audit Trail",icon:"pi-history",route:"/audit-trail"}];unreadAlerts=M(()=>this.mockDataService.alerts().filter(e=>!e.isRead).length);userInitials=M(()=>{let e=this.authService.user();return e?`${e.firstName[0]}${e.lastName[0]}`:""});constructor(){let e=this.mockDataService.dashboardStats();this.navItems=this.navItems.map(r=>r.route==="/maintenance"?C(_({},r),{badge:e.overdueMaintenances}):r.route==="/inventory"?C(_({},r),{badge:e.lowStockItems}):r)}toggleSidebar(){this.sidebarCollapsed.update(e=>!e)}toggleMobileSidebar(){this.mobileSidebarOpen.update(e=>!e)}toggleTheme(){this.themeService.toggleTheme()}logout(){this.authService.logout()}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=w({type:t,selectors:[["app-main-layout"]],decls:44,vars:16,consts:[[1,"layout-container"],[1,"sidebar"],[1,"sidebar-header"],[1,"logo",3,"routerLink"],[1,"logo-icon"],["viewBox","0 0 36 36","fill","none","xmlns","http://www.w3.org/2000/svg"],["x","2","y","2","width","32","height","32","rx","6","fill","currentColor","fill-opacity","0.15"],["d","M18 8V28","stroke","currentColor","stroke-width","3","stroke-linecap","round"],["d","M8 18H28","stroke","currentColor","stroke-width","3","stroke-linecap","round"],["d","M10 21C10 21 13 15 18 15C23 15 26 21 26 21","stroke","#4ADE80","stroke-width","2.5","stroke-linecap","round"],[1,"logo-text"],["tooltipPosition","right",1,"collapse-btn",3,"click","pTooltip"],[1,"sidebar-nav"],[1,"nav-list"],[1,"nav-item"],[1,"sidebar-footer"],[1,"user-info"],["styleClass","user-avatar collapsed","shape","circle","tooltipPosition","right",3,"label","pTooltip"],["tooltipPosition","right","pRipple","",1,"logout-btn",3,"click","pTooltip"],[1,"pi","pi-sign-out"],[1,"main-wrapper"],[1,"top-header"],[1,"header-left"],[1,"mobile-menu-btn",3,"click"],[1,"pi","pi-bars"],[1,"search-container"],[1,"pi","pi-search"],["type","text","placeholder","Search equipment, inventory, vendors...",1,"search-input"],[1,"search-shortcut"],[1,"header-right"],["tooltipPosition","bottom",1,"header-btn",3,"click","pTooltip"],["pTooltip","Notifications","tooltipPosition","bottom",1,"header-btn","notification-btn"],[1,"pi","pi-bell"],[1,"notification-badge"],["pTooltip","Help","tooltipPosition","bottom",1,"header-btn"],[1,"pi","pi-question-circle"],[1,"main-content"],[1,"sidebar-overlay"],[1,"logo-title"],[1,"logo-subtitle"],["routerLinkActive","active","tooltipPosition","right","pRipple","",1,"nav-link",3,"routerLink","routerLinkActiveOptions","pTooltip"],[1,"nav-icon"],[1,"nav-badge"],[1,"nav-label"],["styleClass","user-avatar","shape","circle",3,"label"],[1,"user-details"],[1,"user-name"],[1,"user-role"],[1,"sidebar-overlay",3,"click"]],template:function(r,a){r&1&&(n(0,"div",0)(1,"aside",1)(2,"div",2)(3,"div",3)(4,"div",4),O(),n(5,"svg",5),l(6,"rect",6)(7,"path",7)(8,"path",8)(9,"path",9),i()(),s(10,Z,5,0,"div",10),i(),k(),n(11,"button",11),u("click",function(){return a.toggleSidebar()}),l(12,"i"),i()(),n(13,"nav",12)(14,"ul",13),T(15,ne,6,9,"li",14,X),i()(),n(17,"div",15),s(18,ie,7,3,"div",16)(19,oe,1,2,"p-avatar",17),n(20,"button",18),u("click",function(){return a.logout()}),l(21,"i",19),s(22,re,2,0,"span"),i()()(),n(23,"div",20)(24,"header",21)(25,"div",22)(26,"button",23),u("click",function(){return a.toggleMobileSidebar()}),l(27,"i",24),i(),n(28,"div",25),l(29,"i",26)(30,"input",27),n(31,"kbd",28),d(32,"\u2318K"),i()()(),n(33,"div",29)(34,"button",30),u("click",function(){return a.toggleTheme()}),l(35,"i"),i(),n(36,"button",31),l(37,"i",32),s(38,ae,2,1,"span",33),i(),n(39,"button",34),l(40,"i",35),i()()(),n(41,"main",36),l(42,"router-outlet"),i()(),s(43,le,1,0,"div",37),i()),r&2&&(S("sidebar-collapsed",a.sidebarCollapsed()),o(3),p("routerLink",z(15,U)),o(7),m(a.sidebarCollapsed()?-1:10),o(),p("pTooltip",a.sidebarCollapsed()?"Expand Sidebar":"Collapse Sidebar"),o(),f(a.sidebarCollapsed()?"pi pi-angle-right":"pi pi-angle-left"),o(3),L(a.navItems),o(3),m(a.sidebarCollapsed()?19:18),o(2),p("pTooltip",a.sidebarCollapsed()?"Logout":""),o(2),m(a.sidebarCollapsed()?-1:22),o(12),p("pTooltip",a.themeService.isDarkMode()?"Light Mode":"Dark Mode"),o(),f(a.themeService.isDarkMode()?"pi pi-sun":"pi pi-moon"),o(3),m(a.unreadAlerts()>0?38:-1),o(5),m(a.mobileSidebarOpen()?43:-1))},dependencies:[A,j,D,R,q,H,B,V,Y,N,$,J,K],styles:[".layout-container[_ngcontent-%COMP%]{display:flex;min-height:100vh;background:var(--bg-secondary)}.sidebar[_ngcontent-%COMP%]{width:260px;height:100vh;position:fixed;left:0;top:0;background:var(--bg-card);border-right:1px solid var(--border-color);display:flex;flex-direction:column;z-index:var(--z-fixed);transition:width var(--transition-base)}.sidebar-collapsed[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]{width:72px}.sidebar-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1.25rem;border-bottom:1px solid var(--border-color)}.logo[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;cursor:pointer;text-decoration:none}.logo-icon[_ngcontent-%COMP%]{width:36px;height:36px;flex-shrink:0}.logo-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:100%;height:100%;color:var(--primary-600)}.logo-text[_ngcontent-%COMP%]{display:flex;flex-direction:column}.logo-text[_ngcontent-%COMP%]   .logo-title[_ngcontent-%COMP%]{font-family:var(--font-display);font-size:1.125rem;font-weight:700;color:var(--text-primary);line-height:1.2}.logo-text[_ngcontent-%COMP%]   .logo-subtitle[_ngcontent-%COMP%]{font-size:.6875rem;font-weight:500;color:var(--text-muted);text-transform:uppercase;letter-spacing:.05em}.collapse-btn[_ngcontent-%COMP%]{width:28px;height:28px;display:flex;align-items:center;justify-content:center;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:var(--radius-sm);cursor:pointer;transition:all var(--transition-fast)}.collapse-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.875rem;color:var(--text-muted)}.collapse-btn[_ngcontent-%COMP%]:hover{background:var(--bg-hover);border-color:var(--primary-500)}.collapse-btn[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:var(--primary-600)}.sidebar-collapsed[_ngcontent-%COMP%]   .collapse-btn[_ngcontent-%COMP%]{display:none}.sidebar-nav[_ngcontent-%COMP%]{flex:1;padding:1rem .75rem;overflow-y:auto}.nav-list[_ngcontent-%COMP%]{list-style:none;display:flex;flex-direction:column;gap:.25rem}.nav-link[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.75rem 1rem;border-radius:var(--radius-md);text-decoration:none;color:var(--text-secondary);transition:all var(--transition-fast)}.nav-link[_ngcontent-%COMP%]:hover{background:var(--bg-hover);color:var(--text-primary)}.nav-link.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b9811a,#10b9810d);color:var(--primary-600)}.nav-link.active[_ngcontent-%COMP%]   .nav-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--primary-600)}.nav-icon[_ngcontent-%COMP%]{position:relative;width:24px;height:24px;display:flex;align-items:center;justify-content:center;flex-shrink:0}.nav-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.125rem}.nav-badge[_ngcontent-%COMP%]{position:absolute;top:-4px;right:-4px;min-width:16px;height:16px;padding:0 4px;font-size:.625rem;font-weight:600;color:#fff;background:var(--alert-500);border-radius:var(--radius-full);display:flex;align-items:center;justify-content:center}.nav-label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;white-space:nowrap}.sidebar-collapsed[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{justify-content:center;padding:.75rem}.sidebar-footer[_ngcontent-%COMP%]{padding:1rem;border-top:1px solid var(--border-color);display:flex;flex-direction:column;gap:.75rem}.user-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}[_nghost-%COMP%]     .user-avatar{background:linear-gradient(135deg,var(--primary-500) 0%,var(--primary-600) 100%);color:#fff;font-weight:600;font-size:.875rem;width:40px;height:40px}[_nghost-%COMP%]     .user-avatar.collapsed{margin:0 auto}.user-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-width:0}.user-details[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:var(--text-primary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.user-details[_ngcontent-%COMP%]   .user-role[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-muted)}.logout-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem;padding:.625rem 1rem;background:transparent;border:1px solid var(--border-color);border-radius:var(--radius-md);color:var(--text-secondary);font-size:.875rem;font-weight:500;cursor:pointer;transition:all var(--transition-fast)}.logout-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.logout-btn[_ngcontent-%COMP%]:hover{background:#f43f5e1a;border-color:var(--alert-500);color:var(--alert-600)}.sidebar-collapsed[_ngcontent-%COMP%]   .logout-btn[_ngcontent-%COMP%]{padding:.625rem}.sidebar-collapsed[_ngcontent-%COMP%]   .logout-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}.main-wrapper[_ngcontent-%COMP%]{flex:1;margin-left:260px;display:flex;flex-direction:column;min-height:100vh;transition:margin-left var(--transition-base)}.sidebar-collapsed[_ngcontent-%COMP%]   .main-wrapper[_ngcontent-%COMP%]{margin-left:72px}.top-header[_ngcontent-%COMP%]{height:64px;padding:0 1.5rem;background:var(--bg-card);border-bottom:1px solid var(--border-color);display:flex;align-items:center;justify-content:space-between;gap:1rem;position:sticky;top:0;z-index:var(--z-sticky)}.header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;flex:1}.mobile-menu-btn[_ngcontent-%COMP%]{display:none;width:40px;height:40px;align-items:center;justify-content:center;background:transparent;border:none;cursor:pointer}.mobile-menu-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.25rem;color:var(--text-secondary)}.search-container[_ngcontent-%COMP%]{position:relative;flex:1;max-width:480px}.search-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;left:1rem;top:50%;transform:translateY(-50%);color:var(--text-muted)}.search-input[_ngcontent-%COMP%]{width:100%;padding:.625rem 1rem .625rem 2.75rem;font-size:.875rem;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:var(--radius-md);color:var(--text-primary);transition:all var(--transition-fast)}.search-input[_ngcontent-%COMP%]::placeholder{color:var(--text-muted)}.search-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-500);box-shadow:0 0 0 3px #10b9811a}.search-shortcut[_ngcontent-%COMP%]{position:absolute;right:.75rem;top:50%;transform:translateY(-50%);padding:.125rem .5rem;font-size:.75rem;font-family:var(--font-body);color:var(--text-muted);background:var(--bg-primary);border:1px solid var(--border-color);border-radius:var(--radius-sm)}.header-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.header-btn[_ngcontent-%COMP%]{position:relative;width:40px;height:40px;display:flex;align-items:center;justify-content:center;background:transparent;border:1px solid transparent;border-radius:var(--radius-md);cursor:pointer;transition:all var(--transition-fast)}.header-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.125rem;color:var(--text-secondary)}.header-btn[_ngcontent-%COMP%]:hover{background:var(--bg-secondary);border-color:var(--border-color)}.header-btn[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:var(--text-primary)}.notification-badge[_ngcontent-%COMP%]{position:absolute;top:6px;right:6px;min-width:16px;height:16px;padding:0 4px;font-size:.625rem;font-weight:600;color:#fff;background:var(--alert-500);border-radius:var(--radius-full);display:flex;align-items:center;justify-content:center}.main-content[_ngcontent-%COMP%]{flex:1;padding:1.5rem}.sidebar-overlay[_ngcontent-%COMP%]{display:none}@media (max-width: 1024px){.sidebar[_ngcontent-%COMP%]{transform:translate(-100%)}.sidebar-collapsed[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]{width:260px}.layout-container.mobile-sidebar-open[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]{transform:translate(0)}.main-wrapper[_ngcontent-%COMP%], .sidebar-collapsed[_ngcontent-%COMP%]   .main-wrapper[_ngcontent-%COMP%]{margin-left:0}.mobile-menu-btn[_ngcontent-%COMP%]{display:flex}.sidebar-overlay[_ngcontent-%COMP%]{display:block;position:fixed;inset:0;background:#00000080;z-index:calc(var(--z-fixed) - 1)}.search-shortcut[_ngcontent-%COMP%]{display:none}}@media (max-width: 640px){.top-header[_ngcontent-%COMP%]{padding:0 1rem}.main-content[_ngcontent-%COMP%]{padding:1rem}.search-container[_ngcontent-%COMP%]{display:none}}"]})}return t})();export{Oe as MainLayoutComponent};
